<!--
  Copyright (C) 2016-2020 TU Muenchen and contributors of ANEXIA Internetdienstleistungs GmbH
  SPDX-License-Identifier: AGPL-3.0-or-later
-->

<ng-container *transloco="let t">
  <div class="booking-rules-bookable-time-slots mb-4" *ngIf="rule?.length">
    <div class="rule-label">{{ t('resources.bookingRules.bookableTimeSlots.label') }}</div>
    <div class="rule-input">
      <form [formGroup]="form">
        <div class="block text-red-600 mb-2" *ngIf="invalidDaySelection$ | async">
          <eworkbench-icon className="wb-exclamation"></eworkbench-icon>
          {{ t('resources.bookingRulesBookableTimeSlots.notice.selectDays') }}
        </div>

        <div class="block text-red-600 mb-2" *ngIf="invalidTimeSelection$ | async">
          <eworkbench-icon className="wb-exclamation"></eworkbench-icon>
          {{ t('resources.bookingRulesBookableTimeSlots.notice.invalidTimeSelection') }}
        </div>
        <eworkbench-resource-booking-rules-bookable-time-slot-input
          [formBookableTimeSlot]="monday"
          (setChanged)="onSetChanged()"
          [editable]="editable"
        ></eworkbench-resource-booking-rules-bookable-time-slot-input>
        <eworkbench-resource-booking-rules-bookable-time-slot-input
          [formBookableTimeSlot]="tuesday"
          (setChanged)="onSetChanged()"
          [editable]="editable"
        ></eworkbench-resource-booking-rules-bookable-time-slot-input>
        <eworkbench-resource-booking-rules-bookable-time-slot-input
          [formBookableTimeSlot]="wednesday"
          (setChanged)="onSetChanged()"
          [editable]="editable"
        ></eworkbench-resource-booking-rules-bookable-time-slot-input>
        <eworkbench-resource-booking-rules-bookable-time-slot-input
          [formBookableTimeSlot]="thursday"
          (setChanged)="onSetChanged()"
          [editable]="editable"
        ></eworkbench-resource-booking-rules-bookable-time-slot-input>
        <eworkbench-resource-booking-rules-bookable-time-slot-input
          [formBookableTimeSlot]="friday"
          (setChanged)="onSetChanged()"
          [editable]="editable"
        ></eworkbench-resource-booking-rules-bookable-time-slot-input>
        <eworkbench-resource-booking-rules-bookable-time-slot-input
          [formBookableTimeSlot]="saturday"
          (setChanged)="onSetChanged()"
          [editable]="editable"
        ></eworkbench-resource-booking-rules-bookable-time-slot-input>
        <eworkbench-resource-booking-rules-bookable-time-slot-input
          [formBookableTimeSlot]="sunday"
          (setChanged)="onSetChanged()"
          [editable]="editable"
        ></eworkbench-resource-booking-rules-bookable-time-slot-input>
      </form>
      <div class="remove-button">
        <button
          type="button"
          class="btn ewb-button-big ewb-button-icon square"
          [tooltip]="t('formInput.remove.tooltip')"
          containerClass="tooltip-sm"
          (click)="onRemove()"
          [disabled]="loading"
          *ngIf="editable"
        >
          <eworkbench-icon className="wb-remove"></eworkbench-icon>
        </button>
      </div>
    </div>
  </div>
</ng-container>
