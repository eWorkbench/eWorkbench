<!--
  Copyright (C) 2016-2020 TU Muenchen and contributors of ANEXIA Internetdienstleistungs GmbH
  SPDX-License-Identifier: AGPL-3.0-or-later
-->

<ng-container *transloco="let t">
  <div class="search-parameter">
    <div>
      <ng-select
        class="ewb-select"
        [formControl]="$any(f.type)"
        [items]="types"
        [clearable]="false"
        bindValue="value"
        (change)="onChangeType()"
      ></ng-select>
    </div>
    <div>
      <ng-select
        class="ewb-select"
        [formControl]="$any(f.operator)"
        [items]="operators"
        [clearable]="false"
        bindValue="value"
        (change)="onChanged()"
      ></ng-select>
    </div>
    <div>
      <eworkbench-metadata-field
        [id]="parameter.pk"
        [baseType]="parameter.base_type"
        [typeSettings]="parameter.type_settings"
        [label]="parameter.display"
        [editable]="true"
        (changed)="onChanged($event)"
      ></eworkbench-metadata-field>
    </div>
    <button
      type="button"
      class="btn ewb-button-big ewb-button-icon square"
      [tooltip]="t('formInput.remove.tooltip')"
      containerClass="tooltip-sm"
      (click)="onRemove()"
    >
      <eworkbench-icon className="wb-remove"></eworkbench-icon>
    </button>
  </div>
  <div class="combination mt-4">
    <ng-select
      class="ewb-select"
      [formControl]="$any(f.combinationOperator)"
      [items]="combinationOperators"
      [clearable]="false"
      bindValue="value"
      (change)="onChanged()"
    ></ng-select>
  </div>
</ng-container>
