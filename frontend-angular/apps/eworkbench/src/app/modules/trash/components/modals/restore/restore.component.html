<!--
  Copyright (C) 2016-2020 TU Muenchen and contributors of ANEXIA Internetdienstleistungs GmbH
  SPDX-License-Identifier: AGPL-3.0-or-later
-->

<ng-container *transloco="let t">
  <eworkbench-modal>
    <div slot="header">
      {{ t('trash.trashModal.header') }}
    </div>
    <div slot="body">
      <eworkbench-table-view #tableView [columns]="listColumns" [service]="service" [params]="serviceParams"></eworkbench-table-view>
    </div>
    <div slot="footer">
      <button type="button" class="btn ewb-button-big ewb-button-secondary" [disabled]="loading" (click)="modalRef.close()">
        {{ t('trash.trashModal.close') }}
      </button>
    </div>
  </eworkbench-modal>
</ng-container>

<ng-template #displayCellTemplate let-row>
  <a [routerLink]="[routerBaseLink, row.pk]" *ngIf="routerBaseLink" (click)="modalRef.close()">{{ row.display }}</a>
  <span *ngIf="!routerBaseLink">{{ row.display }}</span>
</ng-template>
<ng-template #actionsCellTemplate let-row>
  <div class="text-right">
    <eworkbench-restore-button
      [service]="service"
      [id]="row.pk"
      [tableView]="tableView"
      (restored)="onRestore($event)"
    ></eworkbench-restore-button>
  </div>
</ng-template>
