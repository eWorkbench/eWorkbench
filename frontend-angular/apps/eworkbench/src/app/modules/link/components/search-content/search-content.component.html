<!--
  Copyright (C) 2016-2020 TU Muenchen and contributors of ANEXIA Internetdienstleistungs GmbH
  SPDX-License-Identifier: AGPL-3.0-or-later
-->

<ng-container *transloco="let t">
  <div class="search-input w-100 my-2">
    <div class="input-group search-input-group">
      <input
        type="text"
        class="form-control ewb-input"
        id="search-header"
        name="search-header"
        [formControl]="searchControl"
        [placeholder]="t('link.searchContent.search')"
      />
      <button type="button" class="btn btn-sm bg-transparent clear-input" *ngIf="!searchControl.value">
        <eworkbench-icon className="wb-search"></eworkbench-icon>
      </button>
      <button
        type="button"
        class="btn btn-sm bg-transparent clear-input"
        (click)="searchControl.patchValue(null)"
        *ngIf="searchControl.value"
      >
        <eworkbench-icon className="wb-remove"></eworkbench-icon>
      </button>
    </div>
  </div>

  <eworkbench-table-view #tableView [columns]="allListColumns" [service]="service" [params]="params"></eworkbench-table-view>
</ng-container>

<ng-template #genericCheckboxTemplate let-row>
  <div class="custom-control custom-checkbox">
    <input
      class="custom-control-input"
      type="checkbox"
      [id]="'row.' + row.pk"
      [name]="'row.' + row.pk"
      [checked]="isSelected(row.pk)"
      (change)="onChangeSelection($event, row)"
    />
    <label class="custom-control-label font-weight-normal" [for]="'row.' + row.pk"></label>
  </div>
</ng-template>
