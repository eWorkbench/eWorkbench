<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">
            <i class="{{:: vm.resourceIcon }}"></i>
            <a ui-sref="resource-list" role="button" translate>Resources</a>

            <a role="button" class="pull-right" ng-click="vm.createNewResource()" tabindex="0">
                <span translate>New Resource</span>
            </a>
        </h3>
    </div>
    <div class="panel-body">
        <loading-text loading="vm.isLoading"></loading-text>
        <div ng-show="vm.resources.length == 0 && !vm.isLoading" translate>
            You currently do not have access to any resources.
        </div>

        <table ng-if="!vm.isLoading && vm.resources.length > 0"
               class="table table-hover" style="margin-bottom: 0px; table-layout: fixed">
            <tbody>
            <tr ng-repeat="resource in vm.resources">
                <!-- link to resource (truncated if too long) -->
                <td class="truncate" style="width: calc(100% - 1px)">
                    <resource-link resource="resource"></resource-link>
                </td>
                <!-- Type -->
                <td><resource-type-widget resource-type="resource.type"></resource-type-widget></td>
                <!-- Description (truncated if too long) -->
                <td class="truncate">
                    <span ng-bind-html="resource.description | htmlToPlaintext"></span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
