<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">
            <i class="{{:: vm.noteIcon }}"></i>
            <a ui-sref="notes" role="button" translate>Comments</a>

            <a role="button" class="pull-right" ng-click="vm.createNewNote()" tabindex="0">
                 <span translate>New Comment</span>
            </a>
        </h3>
    </div>
    <div class="panel-body">
        <loading-text loading="vm.isLoading"></loading-text>
        <div ng-show="vm.notes.length == 0 && !vm.isLoading" translate>
            You are currently not assigned to any notes.
        </div>

        <table ng-if="!vm.isLoading && vm.notes.length > 0"
               class="table table-hover" style="margin-bottom: 0px">
            <thead>
            </thead>
            <tbody>
            <tr ng-repeat="note in vm.notes">
                <!-- Subject -->
                <td class="truncate">
                    <a ui-sref="note-view({note: note})"
                       title="{{ 'View Note' | translate }}">
                        {{ note.subject }}
                    </a>
                </td>
                <!-- created_at -->
                <td>
                    {{ note.created_at | smallDate }}
                </td>
                <!-- created_by -->
                <td>
                    <user-display-widget user="note.created_by"></user-display-widget>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
